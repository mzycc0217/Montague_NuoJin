{"version":3,"sources":["webpack:///C:/Users/冬天捡到的徒弟xin/Desktop/诺金/前端/NuoJinFirst/components/l-file/l-file.vue?a4ca","webpack:///C:/Users/冬天捡到的徒弟xin/Desktop/诺金/前端/NuoJinFirst/components/l-file/l-file.vue?74ab","webpack:///C:/Users/冬天捡到的徒弟xin/Desktop/诺金/前端/NuoJinFirst/components/l-file/l-file.vue?7ff6","webpack:///C:/Users/冬天捡到的徒弟xin/Desktop/诺金/前端/NuoJinFirst/components/l-file/l-file.vue?5a2d","webpack:///C:/Users/冬天捡到的徒弟xin/Desktop/诺金/前端/NuoJinFirst/components/l-file/l-file.vue?f555","webpack:///C:/Users/冬天捡到的徒弟xin/Desktop/诺金/前端/NuoJinFirst/components/l-file/l-file.vue?0309","webpack:///C:/Users/冬天捡到的徒弟xin/Desktop/诺金/前端/NuoJinFirst/components/l-file/l-file.vue"],"names":["props","top","type","String","default","bgColor","color","data","cubgColor","loading","value","show","msg","methods","toast","title","duration","icon","uni","showToast","getRequest","url","theRequest","Object","index","indexOf","str","substring","strs","split","i","length","unescape","appChooseFile","currentWebview","name","header","formData","wxChooseFile","wx","chooseMessageFile","count","success","tempFiles","filePath","path","fileName","setdefUI","uploadFile","res","statusCode","JSON","parse","onCommit","$emit","errorHandler","upErr","fail","upload","param","open","openDocument","console","log","download","Promise","resolve","reject","downloadTask","downloadFile","tempFilePath","saveFile","savedFilePath","onProgressUpdate","progress","$nextTick","setTimeout","errText"],"mappings":"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","file":"components/l-file/l-file.js","sourcesContent":["import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-file.vue?vue&type=style&index=0&id=579b532a&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-file.vue?vue&type=style&index=0&id=579b532a&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns, recyclableRender, components } from \"./l-file.vue?vue&type=template&id=579b532a&scoped=true&\"\nvar renderjs\nimport script from \"./l-file.vue?vue&type=script&lang=js&\"\nexport * from \"./l-file.vue?vue&type=script&lang=js&\"\nimport style0 from \"./l-file.vue?vue&type=style&index=0&id=579b532a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"579b532a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('579b532a')) {\n      api.createRecord('579b532a', component.options)\n    } else {\n      api.reload('579b532a', component.options)\n    }\n    module.hot.accept(\"./l-file.vue?vue&type=template&id=579b532a&scoped=true&\", function () {\n      api.rerender('579b532a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/冬天捡到的徒弟xin/Desktop/诺金/前端/NuoJinFirst/components/l-file/l-file.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-file.vue?vue&type=template&id=579b532a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-file.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-file.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nexport default {\r\n\tprops: {\r\n\t\ttop: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'auto'\r\n\t\t},\r\n\t\tbgColor: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'rgba(49, 126, 243, 0.5)',\r\n\t\t},\r\n\t\tcolor: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '#e54d42',\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcubgColor: '',\r\n\t\t\tloading: false,\r\n\t\t\tvalue: 5,\r\n\t\t\tshow: false,\r\n\t\t\tmsg: '执行完毕~',\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\ttoast(title = '',{ duration = 2000, icon = 'none'} = {}) {\r\n\t\t\tuni.showToast({title,duration,icon});\r\n\t\t},\r\n\t\tgetRequest(url) {  \r\n\t\t\tlet theRequest = new Object(); \r\n\t\t\tlet index = url.indexOf(\"?\");\r\n\t\t\tif (index != -1) {  \r\n\t\t\t\tlet str = url.substring(index+1);  \r\n\t\t\t\tlet strs = str.split(\"&\");  \r\n\t\t\t\tfor(let i = 0; i < strs.length; i ++) {  \r\n\t\t\t\t\ttheRequest[strs[i].split(\"=\")[0]]=unescape(strs[i].split(\"=\")[1]);  \r\n\t\t\t\t} \r\n\t\t\t}  \r\n\t\t\treturn theRequest;  \r\n\t\t},\r\n\t\tappChooseFile({currentWebview,url,name = 'file',header,...formData} = {}) {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t},\r\n\t\twxChooseFile({url,name = 'file',header,...formData} = {}) {\r\n\t\t\twx.chooseMessageFile({\r\n\t\t\t\tcount: 1,\r\n\t\t\t\ttype: 'file',\r\n\t\t\t\tsuccess: ({tempFiles}) => {\r\n\t\t\t\t\tlet [{path:filePath,name:fileName}] = tempFiles;\r\n\t\t\t\t\tthis.setdefUI();\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn uni.uploadFile({\r\n\t\t\t\t\t\turl,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\tfilePath,\r\n\t\t\t\t\t\tformData,\r\n\t\t\t\t\t\theader,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif (res.statusCode==200) {\r\n\t\t\t\t\t\t\t\tlet data = JSON.parse(res.data);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//可自行添加后台返回状态验证\r\n\t\t\t\t\t\t\t\treturn this.onCommit(this.$emit('up-success',{fileName,data}));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn this.errorHandler('文件上传失败',this.upErr);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => this.errorHandler('文件上传失败',this.upErr)\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => this.errorHandler('文件选择失败',this.upErr)\r\n\t\t\t})\r\n\t\t},\r\n\t\t/* \r\n\t\t上传\r\n\t\t*/\r\n\t\tupload(param = {}) {\r\n\t\t\t\r\n\t\t\tif (!param.url) {\r\n\t\t\t\tthis.toast('上传地址不正确');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.loading) {\r\n\t\t\t\tthis.toast('还有个文件玩命处理中，请稍候..');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\r\n\r\n\r\n\r\n\t\t\t\r\n\r\n\t\t\t\treturn this.wxChooseFile(param);\r\n\r\n\t\t},\r\n\t\t/* \r\n\t\t打开文件 \r\n\t\t*/\r\n\t\topen(filePath) {\r\n\t\t\t uni.openDocument({\r\n\t\t\t\tfilePath,\r\n\t\t\t\tsuccess: (res) => {console.log('打开文档成功');}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* \r\n\t\t下载\r\n\t\t type: temporary=返回临时地址，local=长期保存到本地\r\n\t\t */\r\n\t\tdownload(url,type = 'temporary') {\r\n\t\t\tif (this.loading) {\r\n\t\t\t\tthis.toast('还有个文件玩命处理中，请稍候..');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.setdefUI();\r\n\t\t\t\r\n\t\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\t\tlet downloadTask = uni.downloadFile({\r\n\t\t\t\t    url,\r\n\t\t\t\t    success: ({statusCode,tempFilePath}) => {\r\n\t\t\t\t        if (statusCode === 200) {\r\n\t\t\t\t\t\t\tif (type == 'local') {\r\n\t\t\t\t\t\t\t\tuni.saveFile({\r\n\t\t\t\t\t\t\t\t\ttempFilePath,\r\n\t\t\t\t\t\t\t\t\tsuccess:({savedFilePath}) => this.onCommit(resolve(savedFilePath)),\r\n\t\t\t\t\t\t\t\t\tfail: () => this.errorHandler('下载失败',reject)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tthis.onCommit(resolve(tempFilePath))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => this.errorHandler('下载失败',reject)\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tdownloadTask.onProgressUpdate(({progress = 0}) => {\r\n\t\t\t\t\tif (progress <= 100) {\r\n\t\t\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\t\t\tthis.value = progress;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tonCommit(resolve) {\r\n\t\t\tthis.msg = '执行完毕~';\r\n\t\t\tthis.loading = false;\r\n\t\t\tthis.cubgColor = 'rgba(57, 181, 74, 0.5)';\r\n\t\t\tsetTimeout(()=>{this.show = false;},1500);\r\n\t\t\treturn resolve;\r\n\t\t},\r\n\t\t\r\n\t\tsetdefUI() {\r\n\t\t\tthis.cubgColor = this.bgColor;\r\n\t\t\tthis.value = 0;\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.show = true;\r\n\t\t},\r\n\t\t\r\n\t\tupErr(errText) {\r\n\t\t\tthis.$emit('up-error',errText);\r\n\t\t},\r\n\t\t\r\n\t\terrorHandler(errText,reject) {\r\n\t\t\tthis.msg = errText;\r\n\t\t\tthis.loading = false;\r\n\t\t\tthis.cubgColor = 'rgba(229, 77, 66, 0.5)';\r\n\t\t\tsetTimeout(()=>{this.show = false;},1500);\r\n\t\t\treturn reject(errText);\r\n\t\t}\r\n\t}\r\n}\r\n"],"sourceRoot":""}